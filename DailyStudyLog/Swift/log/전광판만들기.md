

## Part 1. Basic

### 학습한 내용

- UINavigationViewController
    - Seguway를 사용하여 화면 전환
    - NavigationController를 사용하여 화면 전환
    - View Controller Life Cycle
      - viewWill Appear , wilDidAppear...
- Protocal Delegate Pattern
- 화면간 데이터 잔달
  - 코드로 구현된 화면 전환 방법에서 데이터 전달
  - 세그웨이로 전달
  - delegate 패턴 이용


## 전광판앱 만들기
- Seguway를 사용하여 홤녀 전환
- Delegate패턴을 이용하여 화면간 데이터 전달


## 구현 영상
https://youtu.be/dqmAeoFBE-k

### Root View Controller 
```swift
import UIKit

class ViewController: UIViewController, SetOptionDelegate {

    @IBOutlet weak var contentLabel: UILabel!
    
    override func viewDidLoad() {
        super.viewDidLoad()
    }
    
    override func prepare(for segue: UIStoryboardSegue, sender: Any?) {
        if let settingVC = segue.destination as? SettingViewController {
            settingVC.setOptionDelegate = self // connect Protocal
            /* 메인뷰에서 전달된 설정값을 라우팅 되는 스크린에도 전달 */
            settingVC.selectedText = contentLabel.text
            settingVC.selectedTextColor = contentLabel.textColor
            settingVC.selectedBackgroundColor = view.backgroundColor ?? .red
        }
    }
    
    
    func setOptions(title: String, textColor: UIColor, backgroundColor: UIColor) {
        self.contentLabel.text = title
        self.contentLabel.textColor = textColor
        view.backgroundColor = backgroundColor
    }
}
```

### Setting View Controller 
```swift


import UIKit

// 프로토콜 설정
protocol SetOptionDelegate: AnyObject {
    func setOptions(title: String, textColor: UIColor, backgroundColor: UIColor)
}



class SettingViewController: UIViewController {

    @IBOutlet weak var textField: UITextField!
    
    
    /* Text Color Butotn */
    @IBOutlet weak var blackButton: UIButton!
    @IBOutlet weak var purpleButton: UIButton!
    @IBOutlet weak var grayButton: UIButton!
    
    /* Background Color Button */
    @IBOutlet weak var redButton: UIButton!
    @IBOutlet weak var yellowButton: UIButton!
    @IBOutlet weak var blueButton: UIButton!
    
    
    // Delegate Things
    var setOptionDelegate: SetOptionDelegate?
    
    /* Selected State */
    var selectedText: String?
    var selectedTextColor: UIColor = .black
    var selectedBackgroundColor: UIColor = .red
    
    override func viewDidLoad() {
        super.viewDidLoad()
        configureView()
    }
    
    
    @IBAction func changTextColor(_ sender: UIButton) {
        if sender == blackButton {
            textOpacityResponder(color: .black) // opacity Responder
            selectedTextColor = .black
        } else if sender == grayButton {
            textOpacityResponder(color: .gray)
            selectedTextColor = .gray
        } else {
            textOpacityResponder(color: .purple)
            selectedTextColor = .purple
        }
    }
    
    
    @IBAction func changeBackgroundColor(_ sender: UIButton) {
        if sender == redButton {
            backgroundOpacityResponder(color: .red)
            selectedBackgroundColor = .red
        } else if sender == blueButton {
            backgroundOpacityResponder(color: .blue)
            selectedBackgroundColor = .blue
        } else {
            backgroundOpacityResponder(color: .yellow)
            selectedBackgroundColor = .yellow
        }
    }
    
    /* Configure Setting Views */
    private func configureView() {
        if let prevText = selectedText {
            textField.text = prevText
        }
        textOpacityResponder(color: self.selectedTextColor)
        backgroundOpacityResponder(color: self.selectedBackgroundColor)
    }
    
    
    /* Chnage Opacity Logic */
    private func textOpacityResponder(color: UIColor) {
        self.blackButton.alpha = color == .black ? 1 : 0.4 // 삼항 연산자
        self.grayButton.alpha = color == .gray ? 1 : 0.4
        self.purpleButton.alpha = color == .purple ? 1 : 0.4
        
    }
    
    private func backgroundOpacityResponder(color: UIColor) {
        self.redButton.alpha = color == .red ? 1: 0.4
        self.blueButton.alpha = color == .blue ? 1: 0.4
        self.yellowButton.alpha = color == .yellow ? 1: 0.4
    }
    
    
    
    
    /* Save Optino Values */
    @IBAction func saveOptinos(_ sender: UIBarButtonItem) {
        setOptionDelegate?.setOptions(title: self.selectedText ?? "문구 입력", textColor: self.selectedTextColor, backgroundColor: self.selectedBackgroundColor)
    }
}

```